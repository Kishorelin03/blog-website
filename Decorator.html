<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kaleekun | Decorator</title>
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon.png">
    <!-- Remix icons -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
    <!-- Swiper.js styles -->
    <link rel="stylesheet" href="./assets/css/swiper-bundle.min.css"/>
    <!-- Custom styles -->
    <link rel="stylesheet" href="./assets/css/main.css">

    <link rel="stylesheet" href="./assets/css/prism.css">
</head>
<body>
    <!-- Header -->
    <header class="header" id="header">

        <nav class="navbar container">
            <a href="./index.html">
                <h2 class="logo">Kaleekun</h2>
            </a>
    
            <div class="menu" id="menu">
                <ul class="list">
                    <li class="list-item">
                        <a href="./index.html" class="list-link ">Home</a>
                    </li>
                    <li class="list-item">
                        <a href="#" class="list-link">Reviews</a>
                    </li>
                    <li class="list-item">
                        <a href="#Quick-read" class="list-link">Quick-read</a>
                    </li>
                    <li class="list-item">
                        <a href="./author.html" class="list-link">Author</a>
                    </li>
                    <li class="list-item">
                        <a href="#" class="list-link">Conact</a>
                    </li>
                    
                    <!-- <li class="list-item">
                        <a href="#" class="list-link screen-lg-hidden">Sign in</a>
                    </li>
                    <li class="list-item">
                        <a href="#" class="list-link screen-lg-hidden">Sign up</a>
                    </li> -->
                </ul>
            </div>
    
            <div class="list list-right">
                <button class="btn place-items-center" id="theme-toggle-btn">
                    <i class="ri-sun-line sun-icon"></i>
                    <i class="ri-moon-line moon-icon"></i>
                </button>
    
                <button class="btn place-items-center" id="search-icon">
                    <i class="ri-search-line"></i>
                </button>
    
                <button class="btn place-items-center screen-lg-hidden menu-toggle-icon" id="menu-toggle-icon" id="theme-toggle-btn">
                    <i class="ri-menu-3-line open-menu-icon"></i>
                    <i class="ri-close-line close-menu-icon"></i>
                </button>
    
                <!-- <a href="#" class="list-link screen-sm-hidden">Sign in</a>
                <a href="#" class="list-link screen-sm-hidden btn sign-up-btn fancy-border"> 
                    <span>Sign up</span>
                </a> -->
    
            </div>
        </nav>
    </header>

    <!-- Search -->
    <div class="search-form-container container" id="search-form-container">

        <div class="form-container-inner">

            <form action="" class="form">
                <input type="text" class="form-input" placeholder="What are looking for?">
                <button class="btn form-btn" type="submit">
                    <i class="ri-search-line"></i>
                </button>
            </form>
            <span class="form-note">Or press ESC to close.</span>
        </div>

        <button class="btn form-close-btn place-items-center" id="form-close-btn">
            <i class="ri-close-line"></i>
        </button>

    </div>
    <!-- Blog post -->
    <section class="blog-post section-header-offset">
        <div class="blog-post-container container">

            <div class="blog-post-data">
                <h3 class="title blog-post-title">Decorator</h3>

                <div class="article-data">
                    <span>Dec 6 2021</span>
                    <span class="article-data-spacer"></span>
                    <span>4 min read</span>
                </div>
                <img src="./assets/images/featured/featured-1.jpg" alt="">
            </div>

            <div class="container">
                
                <p>Decorator: decorator is fastest way to wrap a function. this can also give us power to add extra functionality to wrapping function. we can decorator 

                </p>

                <div class="code-container">
                    <div class="code-wrapper">
                        <pre>
                            <code id="code" class="language-python">
                               def decor(funcPointer):  # Decorator definition
                                def internalFunc(*args,**kwds):
                                    print("before")
                                    i = funcPointer(*args,**kwds)
                                    print("after")
                                    return i
                                return internalFunc
                            
                            @decor #wrapping is done by using "@" symbol
                            def sample(a,b,c):
                                print(a,b,c)

                            </code>
                        </pre>
                        <button id="copy-button">Copy</button>
                    </div>
                </div>

                <p>
                    #here sample is wrapped into decorator and will be a internal function of the decorator function as in above example.
                </p>
                <p>
                    #all the arguments passed will be packed in *args and **kwds. and passed to internal function and mapped to the "sample" function arguments
                </p>
                
                
                <div class="code-container">
                    <div class="code-wrapper">
                        <pre>
                            <code id="code" class="language-python">
                                sample(1,2,3)   #calling the function
 
 
                                #output
                                before
                                1 2 3
                                after
                            </code>
                        </pre>
                        <button id="copy-button">Copy</button>
                    </div>
                </div>

                <p>#here 1 2 3 will be packed into *args in decor function and will be unpacked in the internal function resulting with a = 1, b = 2, c = 3. this will work as any normal function call.</p>
                <p># we can add extra code before and after calling the "funcPointer". which gives us additional functionality.</p>
                <p>Example: if we want to have a timer for the sample function. we can start the timer before calling "funcPointer" and end it after. similarly, we do logging also.</p>

                <div class="code-container">
                    <div class="code-wrapper">
                        <pre>
                            <code id="code" class="language-python">
                                sample(b = 2,c=3,a =1)   #calling the function
 
                                #output
                                before
                                1 2 3
                                after

                            </code>
                        </pre>
                        <button id="copy-button">Copy</button>
                    </div>
                </div>

                <p>#here all args will captured by the **kwds and unpacked to internal function which results in positional arguments for internal function. assignment will be done like a = 1, b = 2, c = 3</p>
                <h4>Assignment: Write a decorator that can clock any function - More than 50% assignment turn around this time   Yay !</h4>
                <div class="code-container">
                    <div class="code-wrapper">
                        <pre>
                            <code id="code" class="language-python">
                                def mydecorator(func): # takes in a function pointer
                                    def innerfunc(*args, **kwds):
                                        import time
                                        start = time.time()
                                        i = func(*args, **kwds)   # this is remembered
                                        end = time.time()
                                        print(b-a, " seconds")
                                        return i # this matches with the return of actual function sent in.
                                    return innerfunc # this return statement is for mydecorator function.
                                # so far, with above code, what we have accomplished is that, wrapped the function that was passed.
                                 
                                def normalFunc():
                                    print("normalFunc is called")
                                 
                                print(normalFunc) # this is shown as , just a function
                                 
                                def dynamicFunc(): # going to create a dynamic decorator - note, '@mydecorator' just before this function definition
                                    print('dynamicFunc is called')
                                 
                                # below statement is how to dynamically apply a decorator in live session
                                decoratedDynamicFunc = mydecorator(dynamicFunc) # here , we will have decorated version of the function in decoratedDynamicFunc variable and non decorated version in dynamicFunc - you could verify by printing the mentioned variables
                                 
                                print(dynamicFunc) # this is shown as , just a function
                                print(decoratedDynamicFunc) # this is shown as a function that is internal to mydecorator
                                 
                                @mydecorator  # this is equivalent to decoratedFunc = mydecorator(decoratedFunc)
                                def decoratedFunc():
                                    print('decoratedFunc is called')
                                print(decoratedFunc) # this is shown as a function that is internal to mydecorator - Not sure, if there is a way to get the actual function from the decorated version of the function
                                
                            </code>
                        </pre>
                        <button id="copy-button">Copy</button>
                    </div>
                </div>

                <p>Example: Cascaded decorator</p>
                <div class="code-container">
                    <div class="code-wrapper">
                        <pre>
                            <code id="code" class="language-python">
                                def decor1(funcPointer):  # 1st Decorator definition
                                    def internalFunc(*args,**kwds):
                                        print("before 1st decorator")
                                        i = funcPointer(*args,**kwds)
                                        print("after 1st decorator")
                                        return i
                                    return internalFunc
                                
                                def decor2(funcPointer):  # 2nd Decorator definition
                                    def internalFunc(*args,**kwds):
                                        print("before 2nd decorator")
                                        i = funcPointer(*args,**kwds)
                                        print("after 2nd decorator")
                                        return i
                                    return internalFunc
                                
                                
                                @decor1 #decorating two times
                                @decor2
                                def sample(a,b,c):
                                    print(a,b,c)
                                
                                sample(1,2,3) # this will give output as below by following the call order
                                
                                #OUTPUT:
                                #before 1st decorator
                                #before 2nd decorator
                                #1 2 3
                                #after 2nd decorator
                                #after 1st decorator

                            </code>
                        </pre>
                        <button id="copy-button">Copy</button>
                    </div>
                </div>

                <p>Example: Time log of a function using Decorator</p>
                <div class="code-container">
                    <div class="code-wrapper">
                        <pre>
                            <code id="code" class="language-python">
                                def timeLogDecorator(func): # takes in a function pointer
                                    def innerfunc(*args, **kwds):
                                        import time
                                        start = time.time() # start time
                                        i = func(*args, **kwds)   # this is remembered
                                        end = time.time() # end time
                                        file = open(r"d:/temp/log.txt", "a") # opening file
                                        data = "Time taken by the '" + func.__name__ + "' is " + str(round(end-start, 4)) + " seconds\n" # data
                                        file.write(data) # write data
                                        file.close() # close
                                        return i # this matches with the return of actual function sent in.
                                    return innerfunc # this return statement is for mydecorator function.
                                # so far, with above code, what we have accomplished is that, wrapped the function that was passed and taking the time log of it.
                                
                                @timeLogDecorator
                                def normalFunc():
                                    print("normalFunc is called")
                                
                                normalFunc()  # this will log the time taken by the normal func in given file location
                                # this will give write as "Time taken by the 'normalFunc' is 0.004 seconds" in log file

                            </code>
                        </pre>
                        <button id="copy-button">Copy</button>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Footer -->
    <footer class="footer section">
        <div class="footer-container container d-grid">
            <div class="company-data">
                <a href="./index.html">
                    <h2 class="logo">Kaleekun</h2>
                </a>
                <p class="company-description">
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Quasi voluptatibus omnis odio voluptas itaque dolorum facere molestias iusto necessitatibus, 
                </p>

                <ul class="list social-media">
                    <li class="list-item">
                        <a href="#" class="list-link">
                            <i class="ri-instagram-line"></i>
                        </a>
                    </li>

                    <li class="list-item">
                        <a href="#" class="list-link">
                            <i class="ri-facebook-circle-line"></i>
                        </a>
                    </li>

                    <li class="list-item">
                        <a href="#" class="list-link">
                            <i class="ri-twitter-line"></i>
                        </a>
                    </li>

                    <li class="list-item">
                        <a href="#" class="list-link">
                            <i class="ri-pinterest-line"></i>
                        </a>
                    </li>
                </ul>

                <span class="copyright-notice">&copy; 2023 Kaleekun. All rights reserved.</span>
            </div>



            <div>
                <h6 class="title footer-title">Useful Links</h6>
                <ul class="list footer-list">
                    <li class="list-item">
                        <a href="#" class="list-link">Python</a>
                    </li>

                    <li class="list-item">
                        <a href="#" class="list-link">Blogs</a>
                    </li>

                    <li class="list-item">
                        <a href="#" class="list-link">Assignments</a>
                    </li>
                </ul>
            </div>

            <div>
                <h6 class="title footer-title">Company</h6>
                <ul class="list footer-list">
                    <li class="list-item">
                        <a href="#" class="list-link">Contact</a>
                    </li>

                    <li class="list-item">
                        <a href="#" class="list-link">About Us</a>
                    </li>

                    <li class="list-item">
                        <a href="./author.html" class="list-link">Author</a>
                    </li>

                </ul>
            </div>
        </div>
    </footer>

    <!-- Swiper.js -->
    <script src="./assets/js/swiper-bundle.min.js"></script>
    <!-- Custom script -->
    <script src="./assets/js/main.js"></script>

    <script src="./assets/js/prism.js"></script>
</body>
</html>